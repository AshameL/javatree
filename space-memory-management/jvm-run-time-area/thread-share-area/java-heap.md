# 堆

## 1、jvm规范

> Java虚拟机具有一个在所有Java虚拟机线程之间共享的_堆_。堆是运行时数据区，从中分配所有类实例和数组的内存。
>
> 堆是在虚拟机启动时创建的。对象的堆存储由自动存储管理系统（称为_垃圾收集器_）_回收_；对象永远不会显式释放。Java虚拟机不假定特定类型的自动存储管理系统，可以根据实现者的系统要求选择存储管理技术。堆的大小可以是固定的，也可以根据计算的要求进行扩展，如果不需要更大的堆，则可以将其收缩。堆的内存不必是连续的。
>
> Java虚拟机实现可以为程序员或用户提供对堆的初始大小的控制，并且，如果可以动态扩展或收缩堆，则可以控制最大和最小堆大小。
>
> 以下异常情况与堆相关联：如果计算需要的堆多于自动存储管理系统可以提供的堆，则Java虚拟机将抛出一个 `OutOfMemoryError`。

**待补充**

## 2、hotspot实现

![](../../../.gitbook/assets/image%20%2820%29.png)

