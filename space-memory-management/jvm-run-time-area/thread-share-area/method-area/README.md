# 方法区

## 1、jvm规范

> Java虚拟机具有一个在所有Java虚拟机线程之间共享的**方法区域**。该方法区域类似于常规语言的编译代码的存储区域，或者**类似于操作系统过程中的“.text”段**。它存储每个类的结构，例如运行时常量池，字段和方法数据，以及方法和构造函数的代码，包括用于类和接口初始化以及实例初始化的特殊方法。
>
> 方法区域是在**虚拟机启动时**创建的。尽管方法区域在逻辑上是堆的一部分，但是简单的实现可以选择不进行垃圾回收或压缩。该规范没有规定方法区域的位置或用于管理已编译代码的策略。方法区域可以是固定大小的，或者可以根据计算的需要进行扩展，如果不需要更大的方法区域，则可以缩小。方法区域的内存不必是连续的。
>
> Java虚拟机实现可以为程序员或用户提供对方法区域初始大小的控制，以及在方法区域大小可变的情况下，可以控制最大和最小方法区域大小。
>
> 以下异常条件与方法区域相关联：如果无法提供方法区域中的内存来满足分配请求，则Java虚拟机将抛出一个`OutOfMemoryError`。

## 2、hotspot实现

### 2.1 永久带

### 2.2 元空间

![](../../../../img/image%20%2814%29.png)



